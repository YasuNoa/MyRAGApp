(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31713,e=>{"use strict";var t=e.i(43476),r=e.i(71645);function o(){let[e,o]=(0,r.useState)(""),[n,l]=(0,r.useState)([]),[i,s]=(0,r.useState)(!1),a=async t=>{if(t.preventDefault(),!e.trim())return;let r={role:"user",content:e};l(e=>[...e,r]),o(""),s(!0);try{let e=await fetch("/api/ask",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:r.content})}),t=await e.json(),o={role:"assistant",content:t.answer||"エラーが発生しました"};l(e=>[...e,o])}catch(e){console.error("Error:",e),l(e=>[...e,{role:"assistant",content:"通信エラーが発生しました"}])}finally{s(!1)}};return(0,t.jsxs)("div",{style:{maxWidth:"600px",margin:"0 auto",padding:"20px",fontFamily:"sans-serif"},children:[(0,t.jsx)("h1",{children:"My RAG App"}),(0,t.jsxs)("div",{style:{border:"1px solid #ccc",borderRadius:"8px",padding:"20px",height:"400px",overflowY:"auto",marginBottom:"20px",backgroundColor:"#f9f9f9"},children:[0===n.length&&(0,t.jsx)("p",{style:{color:"#888",textAlign:"center"},children:"何か質問してください"}),n.map((e,r)=>(0,t.jsx)("div",{style:{marginBottom:"10px",textAlign:"user"===e.role?"right":"left"},children:(0,t.jsx)("span",{style:{display:"inline-block",padding:"10px 15px",borderRadius:"15px",backgroundColor:"user"===e.role?"#007bff":"#e9ecef",color:"user"===e.role?"#fff":"#333",maxWidth:"80%"},children:e.content})},r)),i&&(0,t.jsx)("div",{style:{textAlign:"left",color:"#888"},children:"考え中..."})]}),(0,t.jsxs)("form",{onSubmit:a,style:{display:"flex",gap:"10px"},children:[(0,t.jsx)("input",{type:"text",value:e,onChange:e=>o(e.target.value),placeholder:"質問を入力...",style:{flex:1,padding:"10px",borderRadius:"4px",border:"1px solid #ccc"},disabled:i}),(0,t.jsx)("button",{type:"submit",style:{padding:"10px 20px",backgroundColor:"#007bff",color:"#fff",border:"none",borderRadius:"4px",cursor:i?"not-allowed":"pointer"},disabled:i,children:"送信"})]})]})}e.s(["default",()=>o])}]);