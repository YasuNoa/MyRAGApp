# 要件定義 (Requirements)

## コアコンセプト
日本のユーザーにフォーカスしたマルチモーダルAIアシスタント。テキスト、音声、ドキュメントを処理し、インテリジェントな応答と要約を提供します。

## ユーザー要件
1.  **コンテキスト認識チャット**: 過去の会話 (スレッド) を記憶しているAIとチャットしたい。
2.  **ドキュメント理解 (RAG)**: ファイル (PDF, Word, PPT, Excel) をアップロードし、それに基づいてAIに質問したい。
3.  **音声メモ**: 音声を録音またはアップロードして、高品質な文字起こしと要約を取得したい。
4.  **外部連携**:
    -   **Google Drive**: クラウドストレージからファイルを直接インポート。
    -   **LINE**: LINEメッセージングアプリ経由でボットと対話。
5.  **多言語サポート**: **日本語** (JSTタイムゾーン、日本語プロンプト) に主眼を置くが、基盤モデルは多言語対応。

## 技術要件
1.  **パフォーマンス**: RAG検索 (Pinecone) の高速な応答時間。
2.  **精度**: 高品質なEmbeddingとLLMレスポンス (Gemini 2.0 Flash)。
3.  **スケーラビリティ**: Cloud Runにデプロイ可能なマイクロサービスアーキテクチャ (Next.js + Python/FastAPI)。
4.  **セキュリティ**: 安全な認証 (NextAuth) とデータ保護。

## ビジネス要件
1.  **収益化**: Stripeで管理される階層型サブスクリプションモデル (Free, Standard, Premium)。
2.  **成長**: トライアル延長でユーザー獲得を促進するリファラルシステム。
3.  **クロスプラットフォーム**: Webアプリ (PWA) と LINEボットインターフェース。
