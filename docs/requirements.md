# 要件定義書 (Requirements Definition)

## 1. プロジェクト概要
### 1.1 プロジェクト名
**じぶんAI (Jibun AI)**

### 1.2 目的
ユーザーの「分身」となるAIを作成し、日々の会話や情報を蓄積・活用することで、ユーザーの生活をサポートする。
「あれ何だっけ？」をなくし、過去の自分と対話できる体験を提供する。

### 1.3 ターゲットユーザー
- 日々の出来事やアイデアを記録したいが、日記は続かない人
- 自分の行動や思考を振り返りたい人
- 忘れっぽい人

## 2. 機能要件
### 2.1 LINE Bot機能
- **自然言語対話**: ユーザーと自然な日本語で会話する。
- **意図分類 (Intent Classification)**:
    - `STORE`: 情報を保存する（例：「〜が好き」「〜に行った」）
    - `SEARCH`: 情報を検索・回答する（例：「〜って何だっけ？」「おすすめは？」）
- **自動カテゴリ分類**:
    - メッセージの内容から、以下のカテゴリに自動分類して保存する。
    - `仕事` (本業/副業), `学習` (技術/語学)
    - `生活` (食事/健康/家計/住まい)
    - `趣味` (旅行/エンタメ/音楽/スポーツ)
    - `人間関係` (家族/友人/恋人)
    - `その他` (スケジュール/アイデア/日記/ニュース)

### 2.2 知識管理機能 (RAG)
- **ベクトル検索**: Pineconeを使用し、意味の近い過去の記憶を検索する。
- **長期記憶**: ユーザーの発言を半永久的に保存し、文脈に合わせて呼び出す。

### 2.3 認証・ユーザー管理
- **LINEログイン**: LINEアカウントを使って簡単にログイン・登録できる。
- **ユーザー識別**: LINE User IDを用いて、個人ごとのデータを分離して管理する。

## 3. マネタイズ計画
### 3.1 ビジネスモデル
- **基本無料**: 基本的な会話機能は無料。
- **プレミアムプラン (月額300円想定)**:
    - メッセージ保存数の上限解放（または無制限）
    - 高度な分析機能（「今月の振り返り」レポートなど）
    - 画像認識機能など

### 3.2 コスト試算 (1ユーザーあたり)
- **Gemini API (1.5 Flash)**:
    - 1日30往復想定で、月額原価 約30円。
    - 利益率が高く、月額300円で十分な収益性が見込める。
- **Pinecone (Vector DB)**:
    - 無料枠 (Starter) は約10万ベクトルまで。
    - ユーザー数が増加した場合、Standardプラン ($70/月〜) への移行が必要。
    - **対策**: 有料会員のみベクトル保存を許可する、またはPostgreSQL (pgvector) への移行を検討する。

## 4. 非機能要件
- **レスポンス速度**: LINEの返信は数秒以内に行う。
- **セキュリティ**: ユーザーのプライベートな会話データを扱うため、他人がアクセスできないよう厳格に管理する。
- **拡張性**: 将来的にWebアプリ版や、他のメッセージングアプリへの展開も考慮する。
