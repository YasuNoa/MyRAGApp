# 2025-11-26 開発レポート

本日の開発内容、特に「アプリの進化」と「認証機能」についての振り返りまとめです。

## 1. 知識登録機能の実装
### 何をしたか
ブラウザから知識（テキスト）を登録できる `app/knowledge/page.tsx` を作成しました。

### なぜしたか
RAGにおいて最も重要な「知識の蓄積」を体験するためです。
また、**「Garbage In, Garbage Out（ゴミを入れたらゴミが出る）」** という原則を学び、保存前に人間がデータを整理（前処理）するプロセスの重要性を理解するためです。

---

## 2. デザイン刷新 (UI/UX)
### 2.1 Neo-Brutalism (没案)
当初、Z世代向けのトレンドとして「Neo-Brutalism（太い枠、原色）」を実装しましたが、方向転換しました。

### 2.2 Modern Dark Mode (採用)
*   **何をしたか**: GeminiやChatGPTのような、黒背景で洗練された「Modern Dark Mode」に刷新しました。
*   **特徴**:
    *   背景色: `#131314` (Deep Grey)
    *   アクセント: `#8ab4f8` (Soft Blue)
    *   形状: 角丸 (Rounded corners)、フラットデザイン
*   **技術的ポイント**: `app/globals.css` でCSS変数（Custom Properties）を定義し、テーマの切り替えを容易にしました。

---

## 3. アプリの進化: 「じぶん博士」
### 何をしたか
*   アプリ名を「MyRAGApp」から**「じぶん博士」**に変更しました。
*   UI（ボタン、ナビゲーション、プレースホルダー）を全て日本語化しました。

### 意図
ユーザーにとって親しみやすく、自分だけのAIアシスタントであることを強調するためです。

---

## 4. 認証機能 (Authentication)
### 何をしたか
**NextAuth.js (v5)** を導入し、ログイン機能を実装しました。

### 仕組み (Educational)
1.  **`auth.ts`**: 認証のルールブック。「誰が通れるか（今回は ID: `user` / Pass: `password`）」を定義。
2.  **`middleware.ts`**: 門番。全てのページアクセスを監視し、ログインしていない人をログイン画面に飛ばします。
3.  **`AUTH_SECRET`**: セキュリティのための秘密鍵。`.env` に設定し、暗号化に使用します。

### 現状のステータス
*   ログイン画面の実装完了。
*   Docker環境での起動準備完了（`AUTH_SECRET` 追加済み）。
*   **Next Step**: ユーザーごとにデータを分ける「Namespace」の実装。

---

## 5. データベース (Pinecone) について
### データの確認方法
現在は Pinecone の Webコンソールで確認します。

### スキーマ (構造)
NoSQLのため厳密なスキーマはありませんが、以下の構造で保存しています。
*   `id`: 一意なID
*   `values`: ベクトルデータ
*   `metadata`: `{ text: "元の文章" }`

### 今後の計画
ユーザーごとにデータを分けるために、DBを分けるのではなく **「Namespace（名前空間）」** 機能を使用します。これにより、低コストかつ安全にデータ分離を実現します。
